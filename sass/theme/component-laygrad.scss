/*
    Layered Gradient

    - image and gradient
    - gradient and gradient
    - animation

*/

lay-grad{
    position:relative;
    background-color:transparent;
    z-index: 0;
    >*{ backdrop-filter: blur(var(--laygrad--imageblur)); }
    &::before, &::after{
        position: absolute;
        top:0;left:0;right:0;bottom: 0;
        background-attachment: unset;
    }
    &::before{
        content: "";
        background-image: rgb(var(--color-background));
        background-image: var(--gradient-background);
        //background-attachment: fixed;
        z-index: -1;
        opacity: calc(var(--laygrad--grad-rate) / 100);
        mix-blend-mode: var(--laygrad--gradblend);
    }

    &.laygrad--heroimg {
        &::after{
            content: "";
            z-index: -2;
            background-image: var(--laygrad--hero-url);
            background-position: center;
        }
        &.laygrad--heroimg--v{
            &::after{ background-size: auto 100%; }
        }
        &.laygrad--heroimg--h{        
            &::after{ background-size: 100% auto; }
        }
        &.laygrad--imgfl--grayscale{
            &::after{ filter: unquote("grayscale(var(--laygrad--image-fil))"); }
        }
        &.laygrad--imgfl--sepia{
            &::after{ filter: unquote("sepia(var(--laygrad--image-fil))"); }
        }
        &.laygrad--imgfl--brightness{
            &::after{ filter: unquote("brightness(var(--laygrad--image-fil))"); }
        }
        &.laygrad--imgfl--contrast{
            &::after{ filter: unquote("contrast(var(--laygrad--image-fil))"); }
        }
    }

    &.laygrad--heroimg.laygrad--anime--scroll {
        &.laygrad--heroimg--v{
            &::after{ 
                background-size: auto 100%;
                animation: laygradScrollH var(--laygrad--animedura) infinite both alternate;
            }
        }
        &.laygrad--heroimg--h{        
            &::after{
                background-size: 100% auto; 
                animation: laygradScrollV var(--laygrad--animedura) infinite both alternate;
            }
        }
        &::before{}       
        &::after{}
    }
    &.laygrad--heroimg.laygrad--anime--zoom {
        &.laygrad--heroimg--v{
            &::after{ animation: laygradZoomV var(--laygrad--animedura) infinite both alternate; }
        }
        &.laygrad--heroimg--h{        
            &::after{ animation: laygradZoomH var(--laygrad--animedura) infinite both alternate; }
        }
        &::before{}       
        &::after{
        }
    }
    &.laygrad--heroimg.laygrad--anime--move {
        &.laygrad--heroimg--v{
            &::after{ background-size: auto 100%; }
        }
        &.laygrad--heroimg--h{        
            &::after{ background-size: 100% auto; }
        }
        &::before{}       
        &::after{
            animation: laygradMove var(--laygrad--animedura) infinite both alternate;
        }
    }
    &.laygrad--heroimg.laygrad--anime--gradiation {
        &.laygrad--heroimg--v{
            &::after{ background-size: auto 110%; }
        }
        &.laygrad--heroimg--h{        
            &::after{ background-size: 110% auto; }
        }
        &::after{
        }
        &.laygrad--heroimg--v{
            &::before{
                background-size: auto 500%;
                animation: laygradScrollV var(--laygrad--animedura) infinite both alternate;
            }       
        }
        &.laygrad--heroimg--h{
            &::before{
                background-size: 500% auto;
                animation: laygradScrollH var(--laygrad--animedura) infinite both alternate;
            }       
        }
    }
}

@keyframes laygradScrollV {
    0%   {background-position: center   0%;}
    100% {background-position: center 100%;}
}
@keyframes laygradScrollH {
    0%   {background-position:   0% center;}
    100% {background-position: 100% center;}
}
@keyframes laygradZoomV {
    0%   {background-size: auto 100%;}
    100% {background-size: auto 200%;}
}
@keyframes laygradZoomH {
    0%   {background-size: 100% auto;}
    100% {background-size: 200% auto;}
}
@keyframes laygradMove {
      0% {background-position:   0%   0%;}
     20% {background-position: 100%   0%;}
     40% {background-position:   0%  50%;}
     60% {background-position: 100%  50%;}
     80% {background-position:   0% 100%;}
    100% {background-position: 100% 100%;}
}


lay-grad{
    --border--h2:2px;
    --border--p :1px;
    display: block;
    min-height: var(--laygrad--minheight);
    .laygrad--message{

    }
    &.laygrad--typog--whiteborder{
        .laygrad--message{
            h1,h2,h3,h4,h5{
                filter: 
                    drop-shadow( calc(var(--border--h2)*-1) calc(var(--border--h2)*-1) 0px rgba(255, 255, 255, 0.5)) 
                    drop-shadow( calc(var(--border--h2)*1)  calc(var(--border--h2)*-1) 0px rgba(255, 255, 255, 0.5)) 
                    drop-shadow( calc(var(--border--h2)*-1) calc(var(--border--h2)*1)  0px rgba(255, 255, 255, 0.5)) 
                    drop-shadow( calc(var(--border--h2)*1)  calc(var(--border--h2)*1)  0px rgba(255, 255, 255, 0.5)) ;
            }
            p{
                filter: 
                    drop-shadow( calc(var(--border--p)*-1) calc(var(--border--p)*-1) 0px rgba(255, 255, 255, 0.5)) 
                    drop-shadow( calc(var(--border--p)*1)  calc(var(--border--p)*-1) 0px rgba(255, 255, 255, 0.5)) 
                    drop-shadow( calc(var(--border--p)*-1) calc(var(--border--p)*1)  0px rgba(255, 255, 255, 0.5)) 
                    drop-shadow( calc(var(--border--p)*1)  calc(var(--border--p)*1)  0px rgba(255, 255, 255, 0.5)) ;
            }
        }
    }
    &.laygrad--typog--blackborder{
        .laygrad--message{
            h1,h2,h3,h4,h5{
                filter: 
                    drop-shadow( calc(var(--border--h2)*-1) calc(var(--border--h2)*-1) 0px rgba(0, 0, 0, 0.5)) 
                    drop-shadow( calc(var(--border--h2)*1)  calc(var(--border--h2)*-1) 0px rgba(0, 0, 0, 0.5)) 
                    drop-shadow( calc(var(--border--h2)*-1) calc(var(--border--h2)*1)  0px rgba(0, 0, 0, 0.5)) 
                    drop-shadow( calc(var(--border--h2)*1)  calc(var(--border--h2)*1)  0px rgba(0, 0, 0, 0.5)) ;
            }
            p{
                filter: 
                    drop-shadow( calc(var(--border--p)*-1) calc(var(--border--p)*-1) 0px rgba(0, 0, 0, 0.5)) 
                    drop-shadow( calc(var(--border--p)*1)  calc(var(--border--p)*-1) 0px rgba(0, 0, 0, 0.5)) 
                    drop-shadow( calc(var(--border--p)*-1) calc(var(--border--p)*1)  0px rgba(0, 0, 0, 0.5)) 
                    drop-shadow( calc(var(--border--p)*1)  calc(var(--border--p)*1)  0px rgba(0, 0, 0, 0.5)) ;
            }
        }
    }
    &.laygrad--typog--whitedown{
        .laygrad--message{
            h1,h2,h3,h4,h5{
                filter: 
                    drop-shadow( calc(var(--border--h2)*1)  calc(var(--border--h2)*0)  0px rgba(255, 255, 255, 0.8)) 
                    drop-shadow( calc(var(--border--h2)*0)  calc(var(--border--h2)*1)  0px rgba(255, 255, 255, 0.8)) 
                    drop-shadow( calc(var(--border--h2)*1)  calc(var(--border--h2)*1)  0px rgba(255, 255, 255, 0.8)) ;
            }
            p{
                filter: 
                    drop-shadow( calc(var(--border--p)*1)  calc(var(--border--p)*0)  0px rgba(255, 255, 255, 0.8)) 
                    drop-shadow( calc(var(--border--p)*0)  calc(var(--border--p)*1)  0px rgba(255, 255, 255, 0.8)) 
                    drop-shadow( calc(var(--border--p)*1)  calc(var(--border--p)*1)  0px rgba(255, 255, 255, 0.8)) ;
            }
        }
    }
    &.laygrad--typog--blackdown{
        .laygrad--message{
            h1,h2,h3,h4,h5{
                filter: 
                    drop-shadow( calc(var(--border--h2)*1)  calc(var(--border--h2)*0)  0px rgba(0, 0, 0, 0.5)) 
                    drop-shadow( calc(var(--border--h2)*0)  calc(var(--border--h2)*1)  0px rgba(0, 0, 0, 0.5)) 
                    drop-shadow( calc(var(--border--h2)*1)  calc(var(--border--h2)*1)  0px rgba(0, 0, 0, 0.5)) ;
            }
            p{
                filter: 
                    drop-shadow( calc(var(--border--p)*1)  calc(var(--border--p)*0)  0px rgba(0, 0, 0, 0.5)) 
                    drop-shadow( calc(var(--border--p)*0)  calc(var(--border--p)*1)  0px rgba(0, 0, 0, 0.5)) 
                    drop-shadow( calc(var(--border--p)*1)  calc(var(--border--p)*1)  0px rgba(0, 0, 0, 0.5)) ;
            }
        }
    }
    &.laygrad--typog--graydown{
        .laygrad--message{
            h1,h2,h3,h4,h5{
                filter: 
                    drop-shadow( calc(var(--border--h2)*1)  calc(var(--border--h2)*0)  0px rgba(128, 128, 128, 0.5)) 
                    drop-shadow( calc(var(--border--h2)*0)  calc(var(--border--h2)*1)  0px rgba(128, 128, 128, 0.5)) 
                    drop-shadow( calc(var(--border--h2)*1)  calc(var(--border--h2)*1)  0px rgba(128, 128, 128, 0.5)) ;
            }
            p{
                filter: 
                    drop-shadow( calc(var(--border--p)*1)  calc(var(--border--p)*0)  0px rgba(128, 128, 128, 0.5)) 
                    drop-shadow( calc(var(--border--p)*0)  calc(var(--border--p)*1)  0px rgba(128, 128, 128, 0.5)) 
                    drop-shadow( calc(var(--border--p)*1)  calc(var(--border--p)*1)  0px rgba(128, 128, 128, 0.5)) ;
            }
        }
    }
    &.laygrad--typog--stecker{
        .laygrad--message{}
    }
    &.laygrad--typog--neon{
        .laygrad--message{}
    }
    &.laygrad--typog--gradation{
        .laygrad--message{}
    }
    &.laygrad--typog--pop{
        .laygrad--message{}
    }
    &.laygrad--typog--foggy{
        .laygrad--message{}
    }
}